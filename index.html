<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdn.jsdelivr.net/npm/vega@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script>

    <title>HW-5_Senkivskyy</title>
</head>
<body>
<div>
    <div id="viz"></div>
</div>
</body>

<script>
    var chart = {
        "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
        "data": {"url": "processed_data.csv"},
        "vconcat": [{
            "width": 700,
            "height": 300,
            "mark": "area",
            "encoding": {
                "x": {
                    "field": "year",
                    "type": "temporal",
                    "scale": {"domain": {"selection": "brush"}},
                    "axis": {"title": ""}
                },
                "y": {
                    "field": "number", "type": "quantitative", "title": "population",
                    "axis": {"tickCount": 10}
                },
                "color": {
                    "field": "gender",
                    "type": "nominal",
                    "scale": {"range": ["#5271bc", "#d5117c"]},
                    "legend": {
                        "title": "Age group"
                    }
                }
            }

        }, {
            "width": 700,
            "height": 60,
            "mark": "area",
            "selection": {
                "brush": {
                    "type": "interval",
                    "encodings": ["x"]
                }
            },
            "encoding": {
                "x": {
                    "field": "year",
                    "type": "temporal"
                },
                "y": {
                    "field": "number",
                    "type": "quantitative",
                    "axis": {"tickCount": 6, "grid": false},
                    "title": "population"
                },
                "color": {
                    "field": "gender",
                    "type": "nominal",
                    "scale": {"range": ["yellow", "pink"]},
                }
            }
        }]
    };


    var opts = {
        "actions": false
    };

    vegaEmbed('#viz', chart, opts)
</script>
</html>